@{
    ViewData["Title"] = "Dashboard";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<div class="row mb-4">
    <div class="col-md-3">
        <div class="stats-card" style="border-left: 4px solid #3498db;">
            <div class="icon" style="color: #3498db;">üêæ</div>
            <h3>@ViewBag.TotalAnimals</h3>
            <p>T·ªïng s·ªë ƒë·ªông v·∫≠t</p>
        </div>
    </div>
    <div class="col-md-3">
        <div class="stats-card" style="border-left: 4px solid #f39c12;">
            <div class="icon" style="color: #f39c12;">üè•</div>
            <h3>@ViewBag.AnimalsInRescue</h3>
            <p>ƒêang c·ª©u h·ªô</p>
        </div>
    </div>
    <div class="col-md-3">
        <div class="stats-card" style="border-left: 4px solid #27ae60;">
            <div class="icon" style="color: #27ae60;">‚ù§Ô∏è</div>
            <h3>@ViewBag.AnimalsReadyForAdoption</h3>
            <p>S·∫µn s√†ng nh·∫≠n nu√¥i</p>
        </div>
    </div>
    <div class="col-md-3">
        <div class="stats-card" style="border-left: 4px solid #e74c3c;">
            <div class="icon" style="color: #e74c3c;">üö®</div>
            <h3>@ViewBag.PendingRequests</h3>
            <p>Y√™u c·∫ßu ch·ªù x·ª≠ l√Ω</p>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-6 mb-4">
        <div class="card card-custom">
            <div class="card-header">
                <h5 class="mb-0">üìã Y√™u c·∫ßu c·ª©u h·ªô g·∫ßn ƒë√¢y</h5>
            </div>
            <div class="card-body">
                @if (ViewBag.RecentRequests != null && ViewBag.RecentRequests.Count > 0)
                {
                    <div class="list-group list-group-flush">
                        @foreach (var request in ViewBag.RecentRequests)
                        {
                            <a href="@Url.Action("RequestDetails", "Admin", new { id = request.Id })" 
                               class="list-group-item list-group-item-action">
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <h6 class="mb-1">@request.ReporterName</h6>
                                        <small class="text-muted">@request.Location</small>
                                    </div>
                                    <div>
                                        @{
                                            var badgeClass = request.Status switch
                                            {
                                                "Ch·ªù x·ª≠ l√Ω" => "bg-warning",
                                                "ƒêang x·ª≠ l√Ω" => "bg-info",
                                                "Ho√†n th√†nh" => "bg-success",
                                                _ => "bg-secondary"
                                            };
                                        }
                                        <span class="badge @badgeClass">@request.Status</span>
                                    </div>
                                </div>
                                <small class="text-muted">@request.RequestDate.ToString("dd/MM/yyyy HH:mm")</small>
                            </a>
                        }
                    </div>
                }
                else
                {
                    <p class="text-muted text-center my-3">Kh√¥ng c√≥ y√™u c·∫ßu n√†o</p>
                }
            </div>
        </div>
    </div>

    <div class="col-md-6 mb-4">
        <div class="card card-custom">
            <div class="card-header">
                <h5 class="mb-0">üêï ƒê·ªông v·∫≠t m·ªõi c·ª©u h·ªô</h5>
            </div>
            <div class="card-body">
                @if (ViewBag.RecentAnimals != null && ViewBag.RecentAnimals.Count > 0)
                {
                    <div class="list-group list-group-flush">
                        @foreach (var animal in ViewBag.RecentAnimals)
                        {
                            <a href="@Url.Action("AnimalDetails", "Admin", new { id = animal.Id })" 
                               class="list-group-item list-group-item-action">
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <h6 class="mb-1">@animal.Name</h6>
                                        <small class="text-muted">@animal.Species - @animal.Gender</small>
                                    </div>
                                    <div>
                                        @{
                                            var statusClass = animal.Status switch
                                            {
                                                "ƒêang c·ª©u h·ªô" => "bg-warning",
                                                "ƒê√£ ƒëi·ªÅu tr·ªã" => "bg-info",
                                                "S·∫µn s√†ng nh·∫≠n nu√¥i" => "bg-success",
                                                "ƒê√£ ƒë∆∞·ª£c nh·∫≠n nu√¥i" => "bg-secondary",
                                                _ => "bg-secondary"
                                            };
                                        }
                                        <span class="badge @statusClass">@animal.Status</span>
                                    </div>
                                </div>
                                <small class="text-muted">C·ª©u h·ªô: @animal.RescueDate.ToString("dd/MM/yyyy")</small>
                            </a>
                        }
                    </div>
                }
                else
                {
                    <p class="text-muted text-center my-3">Kh√¥ng c√≥ ƒë·ªông v·∫≠t n√†o</p>
                }
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <div class="card card-custom">
            <div class="card-header">
                <h5 class="mb-0">üìä Th·ªëng k√™ t·ªïng quan</h5>
            </div>
            <div class="card-body">
                <div class="row text-center">
                    <div class="col-md-4">
                        <h4 class="text-primary">@ViewBag.TotalRequests</h4>
                        <p class="text-muted">T·ªïng y√™u c·∫ßu</p>
                    </div>
                    <div class="col-md-4">
                        <h4 class="text-success">@ViewBag.ActiveUsers</h4>
                        <p class="text-muted">Ng∆∞·ªùi d√πng ho·∫°t ƒë·ªông</p>
                    </div>
                    <div class="col-md-4">
                        <h4 class="text-info">@ViewBag.TotalAnimals</h4>
                        <p class="text-muted">ƒê·ªông v·∫≠t ƒë√£ c·ª©u</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

